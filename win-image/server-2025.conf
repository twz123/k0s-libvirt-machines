guest_os="windows-server"
iso="server-2025.iso"
fixed_iso="virtio-win.iso"
disk_img="server-2025/disk.qcow2"
disk_size="64G"
tpm="on"
secureboot="off"

# Turn off Quickemu's auto NIC, then add virtio-net
network="none"
extra_args="$extra_args -nic user,model=virtio-net-pci,hostfwd=tcp::22220-:22"

# Add the unattended ISO
extra_args="$extra_args -drive media=cdrom,index=2,file=unattended.iso"

# https://wiki.qemu.org/Features/GuestAgent
# Use like so: qemu-ga-client --address=server-2025/server-2025-qga.socket info
extra_args="$extra_args -device virtio-serial-pci"
extra_args="$extra_args -chardev socket,path=server-2025/server-2025-qga.socket,server,nowait,id=qga0"
extra_args="$extra_args -device virtserialport,chardev=qga0,name=org.qemu.guest_agent.0"
